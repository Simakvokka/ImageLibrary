New big Library update.

Code refactoring, new concepts and more keywords added.